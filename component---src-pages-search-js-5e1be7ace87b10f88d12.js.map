{"version":3,"sources":["webpack:///./src/components/searchButton.js","webpack:///./src/pages/search.js","webpack:///./src/components/card.js"],"names":["SearchButton","url","name","onClick","className","Styles","btn","id","Search","useState","query","setQuery","results","setResults","data","title","container","search","type","placeholder","input","value","onChange","e","target","onKeyUp","keyCode","preventDefault","document","getElementById","click","filtered","allMarkdownRemark","edges","filter","post","node","frontmatter","desc","tags","toLowerCase","includes","join","console","log","map","key","slug","fields","Card","cover","to","img","fluid","file","childImageSharp","alt","wrapper"],"mappings":"mPAWeA,MARf,YAA8C,EAAtBC,IAAuB,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACjC,OACE,4BAAQC,UAAWC,IAAOC,IAAKH,QAASA,EAASI,GAAG,cAClD,0BAAMH,UAAWC,IAAOH,MAAOA,K,YC6FtBM,UA3Ff,WAAmB,IAAD,EACUC,mBAAS,IAA5BC,EADS,KACFC,EADE,OAEcF,mBAAS,IAAhCG,EAFS,KAEAC,EAFA,KAIVC,EAAI,OAuDV,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,MAAM,WACX,yBAAKX,UAAWC,IAAOW,WACrB,wBAAIZ,UAAWC,IAAOU,OAAtB,gBACA,yBAAKX,UAAWC,IAAOY,QACrB,2BACEC,KAAK,OACLC,YAAY,0BACZf,UAAWC,IAAOe,MAClBC,MAAOX,EACPY,SA1CO,SAAAC,GAAC,OAAIZ,EAASY,EAAEC,OAAOH,QA2C9BI,QAtBa,SAAAF,GAEH,KAAdA,EAAEG,UAEJH,EAAEI,iBAEFC,SAASC,eAAe,cAAcC,YAkBlC,kBAAC,EAAD,CAAc5B,KAAK,OAAOC,QA3Cf,WACjB,IAGM4B,GAHQjB,EAAKkB,kBAAkBC,OAAS,IAGvBC,QAAO,SAAAC,GAAS,IAAD,EACNA,EAAKC,KAAKC,YAAhCC,EAD4B,EAC5BA,KAAMvB,EADsB,EACtBA,MAAOwB,EADe,EACfA,KACrB,OACED,EAAKE,cAAcC,SAAS/B,EAAM8B,gBAClCzB,EAAMyB,cAAcC,SAAS/B,EAAM8B,gBACnCD,EACGG,KAAK,IACLF,cACAC,SAAS/B,EAAM8B,kBAGtB3B,EAAWkB,GACXY,QAAQC,IAAIb,OA6BR,yBAAK3B,UAAWC,IAAOO,UACtBA,EAAQiC,KAAI,YAAe,IAAZT,EAAW,EAAXA,KACd,OACE,kBAAC,IAAD,CACEU,IAAKV,EAAK7B,GACVQ,MAAOqB,EAAKC,YAAYtB,MACxBuB,KAAMF,EAAKC,YAAYC,KACvBS,KAAMX,EAAKY,OAAOD,c,kmCCtDjBE,IA/Bf,YAA6C,IAA7BF,EAA4B,EAA5BA,KAAMhC,EAAsB,EAAtBA,MAAOuB,EAAe,EAAfA,KAAMY,EAAS,EAATA,MAC3BpC,EAAI,OAYV,OACE,kBAAC,OAAD,CAAMqC,GAAIJ,GACR,yBAAK3C,UAAWC,IAAOW,WACrB,kBAAC,IAAD,CACEZ,UAAWC,IAAO+C,IAClBC,MAAOH,GAASpC,EAAKwC,KAAKC,gBAAgBF,MAC1CG,IAAI,UAEN,yBAAKpD,UAAWC,IAAOoD,SACrB,0BAAMrD,UAAWC,IAAOU,OAAQA,GAChC,6BACA,uBAAGX,UAAWC,IAAOiC,MAAOA,Q","file":"component---src-pages-search-js-5e1be7ace87b10f88d12.js","sourcesContent":["import React from \"react\"\nimport Styles from \"../styles/button.module.css\"\n\nfunction SearchButton({ url, name, onClick }) {\n  return (\n    <button className={Styles.btn} onClick={onClick} id=\"search-btn\">\n      <span className={Styles.name}>{name}</span>\n    </button>\n  )\n}\n\nexport default SearchButton\n","import React, { useState } from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Styles from \"../styles/search.module.css\"\nimport SearchButton from \"../components/searchButton\"\nimport Card from \"../components/card\"\n\nfunction Search() {\n  const [query, setQuery] = useState(\"\")\n  const [results, setResults] = useState([])\n\n  const data = useStaticQuery(graphql`\n    {\n      allMarkdownRemark(\n        sort: { order: DESC, fields: frontmatter___date }\n        filter: { frontmatter: { lang: { eq: \"id\" } } }\n      ) {\n        edges {\n          node {\n            id\n            frontmatter {\n              title\n              desc\n              date(formatString: \"MMMM DD, YYYY\")\n              tags\n            }\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  const onChange = e => setQuery(e.target.value)\n\n  const submitData = () => {\n    const posts = data.allMarkdownRemark.edges || []\n\n    // Set filtered result\n    const filtered = posts.filter(post => {\n      const { desc, title, tags } = post.node.frontmatter\n      return (\n        desc.toLowerCase().includes(query.toLowerCase()) ||\n        title.toLowerCase().includes(query.toLowerCase()) ||\n        tags\n          .join(\"\")\n          .toLowerCase()\n          .includes(query.toLowerCase())\n      )\n    })\n    setResults(filtered)\n    console.log(filtered)\n  }\n\n  const checkSubmitKey = e => {\n    // Number 13 is the \"Enter\" key on the keyboard\n    if (e.keyCode === 13) {\n      // Cancel the default action, if needed\n      e.preventDefault()\n      // Trigger the button element with a click\n      document.getElementById(\"search-btn\").click()\n    }\n  }\n\n  return (\n    <Layout>\n      <SEO title=\"Search\" />\n      <div className={Styles.container}>\n        <h1 className={Styles.title}>Cari release</h1>\n        <div className={Styles.search}>\n          <input\n            type=\"text\"\n            placeholder=\"Masukkan keyword disini\"\n            className={Styles.input}\n            value={query}\n            onChange={onChange}\n            onKeyUp={checkSubmitKey}\n          />\n          <SearchButton name=\"Cari\" onClick={submitData} />\n        </div>\n        <div className={Styles.results}></div>\n        {results.map(({ node }) => {\n          return (\n            <Card\n              key={node.id}\n              title={node.frontmatter.title}\n              desc={node.frontmatter.desc}\n              slug={node.fields.slug}\n            />\n          )\n        })}\n      </div>\n    </Layout>\n  )\n}\n\nexport default Search\n","import React from \"react\"\nimport { Link, graphql, useStaticQuery } from \"gatsby\"\nimport Styles from \"../styles/card.module.css\"\nimport Img from \"gatsby-image\"\n\nfunction Card({ slug, title, desc, cover }) {\n  const data = useStaticQuery(graphql`\n    {\n      file(relativePath: { eq: \"assets/placeholder.png\" }) {\n        childImageSharp {\n          fluid(maxHeight: 640) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n    }\n  `)\n\n  return (\n    <Link to={slug}>\n      <div className={Styles.container}>\n        <Img\n          className={Styles.img}\n          fluid={cover || data.file.childImageSharp.fluid}\n          alt=\"Image\"\n        />\n        <div className={Styles.wrapper}>\n          <span className={Styles.title}>{title}</span>\n          <hr />\n          <p className={Styles.desc}>{desc}</p>\n        </div>\n      </div>\n    </Link>\n  )\n}\n\nexport default Card\n"],"sourceRoot":""}